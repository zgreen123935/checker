{
    "imageAnalysis": {
        "model": "gpt-4-turbo",
        "messages": [
            {
                "role": "system",
                "content": "You are a technical assistant proficient in HVAC systems and smart thermostat compatibility. Your task is to analyze thermostat images and determine compatibility with Mysa's 24V smart thermostat."
            },
            {
                "role": "user",
                "content": [
                    {
                        "type": "text",
                        "text": "Analyze this thermostat image in detail. Please provide:\n1. A detailed description of the visible components, including:\n   - Wiring terminals and connected wires (labels and colors)\n   - Display features\n   - Model indicators or identifying marks\n2. Identify the specific type or model of the thermostat, if possible.\n3. Assess compatibility with Mysa's 24V smart thermostat.\n4. State your confidence level in this assessment (0-100%).\n5. Highlight key installation considerations or potential issues.\n\n**Guidance for Analysis:**\n\n**Step 1: Identify Thermostat Wiring**\n- Remove the thermostat cover to inspect wiring terminals.\n- Note terminal labels and corresponding wire colors (e.g., R, Rc, Rh, W1, W2, Y1, Y2, C, G, O/B).\n- Count the number of connected wires and their respective terminals.\n\n**Step 2: Confirm System Voltage**\n- Verify that the system operates on 24V (low voltage) by checking the HVAC system's control board or user manual.\n- Identify wire types: thin, multicolored wires indicate low voltage; thicker wires (black or red) suggest high voltage (120V/240V).\n\n**Step 3: Check for a Common (C) Wire**\n- Look for a wire connected to the terminal labeled 'C', which provides continuous power for smart thermostats.\n- If absent, consider the feasibility of adding a C wire or using a Mysa Power Adapter (if available).\n\n**Step 4: Identify HVAC System Type**\n- Determine if the system is:\n  - Conventional (Forced Air): single- or multi-stage heating/cooling.\n  - Heat Pump: utilizes a reversing valve for heating and cooling; presence of O or B wire.\n- Note additional accessories such as humidifiers, dehumidifiers, or ventilators.\n- Assess the number of heating and cooling stages, typically indicated by W1, W2 (heating) and Y1, Y2 (cooling) terminals."
                    },
                    {
                        "type": "image",
                        "image_url": {
                            "url": "IMAGE_BASE64_PLACEHOLDER"
                        }
                    }
                ]
            }
        ],
        "max_tokens": 1000
    },
    "resultsSummary": {
        "model": "gpt-4",
        "messages": [
            {
                "role": "system",
                "content": "You are a technical assistant that summarizes thermostat compatibility analyses. Provide a natural language explanation followed by a JSON summary. The JSON should follow this structure (use double quotes):\n{\n    \"thermostatType\": \"specific model/type\",\n    \"compatibility\": \"Compatible/Not Compatible/Uncertain\",\n    \"confidence\": 0.95,\n    \"recommendations\": [\"recommendation 1\", \"recommendation 2\"]\n}"
            },
            {
                "role": "user",
                "content": "ANALYSIS_TEXT_PLACEHOLDER"
            }
        ],
        "max_tokens": 1000
    },
    "compatibilityGuidelines": {
        "requirements": [
            "24V system (C-wire recommended)",
            "2-stage heating maximum",
            "2-stage cooling maximum",
            "Compatible with conventional forced air and heat pump systems",
            "Not compatible with line voltage (120V/240V) systems",
            "Not compatible with proprietary systems"
        ],
        "supportedSystemTypes": [
            "Conventional 24V forced air systems",
            "Heat pump systems",
            "Gas furnaces",
            "Electric furnaces",
            "Boilers (with 24V control)",
            "Central air conditioning"
        ],
        "wiringConfiguration": [
            "R - Power (24V)",
            "C - Common wire (recommended)",
            "W1/W2 - Heat stages",
            "Y1/Y2 - Cool stages",
            "G - Fan",
            "O/B - Reversing valve (heat pumps)"
        ]
    }
}